<div class="root">
  <p-block-ui [blocked]="isWindowBlocked" />
  <p-icon-field>
    <p-inputicon>
      <google-icon iconName="search" />
    </p-inputicon>
    <input #searchInput
           pInputText
           [fluid]="true"
           pSize="small"
           type="text"
           placeholder="{{ 'search' | translate }}"
           (input)="onSearchChanged(searchInput.value)" />
    @if (searchInput.value) {
    <p-inputicon (click)="clearSearch()">
      <google-icon iconName="close" />
    </p-inputicon>
    }
  </p-icon-field>
  @if (pinnedClips().length > 0){
  <p-panel class="pinned-clips" [style.max-height.px]="pinnedClipsPanelMaxHeight">
    <p-scroll-panel>
      @for (pinnedClip of pinnedClips(); track pinnedClip.clipId) {
      <jcm-clip-item [clipId]="pinnedClip.clipId" [htmlElement]="pinnedClip.htmlElement"
                     [isPinButtonVisible]="false"
                     [isUnpinButtonVisible]="true"
                     [isDeleteButtonVisible]="false"
                     (pasteDataRequested)="onPasteDataRequested(pinnedClip.clipId)"
                     (previewDataRequested)="onPreviewDataRequested(pinnedClip.clipId)"
                     (unpinItemRequested)="onUnpinItemRequested(pinnedClip.clipId)" />
      }
    </p-scroll-panel>
  </p-panel>
  }
  <p-panel class="clips">
    <p-scroll-panel #regularClipsScrollPanel>
      @for (clip of regularClips(); track clip.clipId) {
      <jcm-clip-item [clipId]="clip.clipId" [htmlElement]="clip.htmlElement"
                     (pasteDataRequested)="onPasteDataRequested(clip.clipId)"
                     (previewDataRequested)="onPreviewDataRequested(clip.clipId)"
                     (pinItemRequested)="onPinItemRequested(clip.clipId)"
                     (deleteItemRequested)="onDeleteItemRequested(clip.clipId)" />
      }
    </p-scroll-panel>
  </p-panel>
</div>
